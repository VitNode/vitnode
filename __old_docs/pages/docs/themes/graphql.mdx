import { Steps } from 'nextra/components';
import { FileTree } from 'nextra/components';

# GraphGL

Frontend communicates with the backend via GraphQL and use SSR to fetching data. The GraphQL queries are defined in the `graphql/queries` or `graphql/mutation` folder. The queries are then used in the frontend components.

## Generate GraphQL Types

VitNode use [GraphQL Codegen](https://the-guild.dev/graphql/codegen) to generate types for GraphQL queries. The types are generated in the `utils/graphql.ts` file.

<Steps>
### Find Query or Mutation

First we need to define the GraphQL query in the `graphql/queries/{plugin_name}` (if you want query) or `graphql/mutations/{plugin_name}` folder.  
You can find list of available queries in your API.

If you are running development server go to [http://localhost:8080/graphql](http://localhost:8080/graphql) to see the list of available queries.

### Define Query

When you find the query or mutation you want to use, copy the query/mutation and paste it in a new file with `.gql` extension. Remember to sort the query by module.

For example file `graphql/queries/{plugin_name}/authorization.gql`:

```graphql
query Authorization_custom_app {
  authorization_custom_app {
    user {
      email
    }
  }
}
```

### Generate Types

After defining the query, you can generate the types by running the following command:

```bash
pnpm codegen
```

The command will overwrite the `utils/graphql.ts` file.

</Steps>
